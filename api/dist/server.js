"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const dotenv_1 = require("dotenv");
const cors_1 = __importDefault(require("cors"));
const mongo_1 = require("./db/mongo");
const login_user_1 = require("./routes/login-user");
const register_user_1 = require("./routes/register-user");
const get_matches_1 = require("./routes/get-matches");
const save_profile_1 = require("./routes/save-profile");
const get_profile_1 = require("./routes/get-profile");
const save_matches_1 = require("./routes/save-matches");
const get_matches_default_1 = require("./routes/get-matches-default");
const get_matches_funnel_1 = require("./routes/get-matches-funnel");
const save_favorite_matches_1 = require("./routes/save-favorite-matches");
const get_favorite_matches_1 = require("./routes/get-favorite-matches");
const delete_favorite_routes_1 = require("./routes/delete-favorite-routes");
const get_matches_accepted_1 = require("./routes/get-matches-accepted");
const save_matches_accepted_1 = require("./routes/save-matches-accepted");
const save_image_profile_1 = require("./routes/save-image-profile");
const get_image_profile_1 = require("./routes/get-image-profile");
const save_matches_refused_1 = require("./routes/save-matches-refused");
const save_match_exit_1 = require("./routes/save-match-exit");
const update_matches_1 = require("./routes/update-matches");
const delete_matches_1 = require("./routes/delete-matches");
const forgot_email_user_1 = require("./routes/forgot-email-user");
const get_token_password_1 = require("./routes/get-token-password");
const save_reset_password_1 = require("./routes/save-reset-password");
const getDotEnv_1 = require("./util/getDotEnv");
async function main() {
    (0, dotenv_1.config)();
    const app = (0, express_1.default)();
    app.use((0, cors_1.default)());
    app.use(express_1.default.json());
    await mongo_1.MongoClient.connect();
    app.post("/login", (0, login_user_1.loginUserRoute)());
    app.post("/register", (0, register_user_1.registerUserRoute)());
    app.get("/token-password", (0, get_token_password_1.getTokenPasswordRoute)());
    app.post("/reset-password", (0, save_reset_password_1.saveNewPasswordRoute)());
    app.post("/forgot-email", (0, forgot_email_user_1.sendForgotEmailRoute)());
    app.post("/matches", (0, save_matches_1.saveMatchesRoute)());
    app.post("/matches-update", (0, update_matches_1.updateMatchesRoute)());
    app.get("/matches", (0, get_matches_1.getMatchesRoute)());
    app.delete("/matches/:id", (0, delete_matches_1.deleteMatchesRoute)());
    app.post("/matches-refused", (0, save_matches_refused_1.saveMatchesRefusedRoute)());
    app.post("/matches-exit", (0, save_match_exit_1.saveMatchExitRoute)());
    app.get("/matches-default", (0, get_matches_default_1.getMatchesDefaultRoute)());
    app.get("/matches-funnel", (0, get_matches_funnel_1.getMatchesFunnelRoute)());
    app.post("/matches-favorite", (0, save_favorite_matches_1.saveMatchesFavoriteRoute)());
    app.get("/matches-favorite", (0, get_favorite_matches_1.getMatchesFavoriteRoute)());
    app.delete("/matches-favorite/:id", (0, delete_favorite_routes_1.deleteMatchesFavoriteRoute)());
    app.post("/matches-accepted", (0, save_matches_accepted_1.saveMatchesAcceptedRoute)());
    app.get("/matches-accepted", (0, get_matches_accepted_1.getMatchesAcceptedRoute)());
    app.post("/image-profile", (0, save_image_profile_1.saveImageProfileRoute)());
    app.get("/image-profile", (0, get_image_profile_1.getImageProfileRoute)());
    app.post("/profile", (0, save_profile_1.saveProfileRoute)());
    app.get("/profile", (0, get_profile_1.getProfileRoute)());
    app.listen(getDotEnv_1.port, getDotEnv_1.ip, () => console.log(`ğŸ”¥ Start server at http://${getDotEnv_1.ip}:${getDotEnv_1.port} ğŸ”¥`));
}
main();
